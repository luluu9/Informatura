TAGI:
pseudokod,analiza,palindromy,rekurencja,algorytmy

PUNKTY:
4

TRESC:
W zaprezentowanej w tym punkcie funkcji REG(w,n) uzupeÅ‚nij brakujÄ…ce elementy tak, aby realizowaÅ‚a ona nastÄ™pujÄ…cÄ… specyfikacjÄ™:
Specyfikacja:
Dane:
  n â€“ dodatnia liczba caÅ‚kowita
  w[1..n] â€“ sÅ‚owo zÅ‚oÅ¼one z liter A, B
Wynik:
  wartoÅ›Ä‡ reg(w).
    
Funkcja REG(w,n):
jeÅ¼eli n = 1
  wynikiem jest â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦
w przeciwnym przypadku
  jeÅ¼eli n mod 2 = 0
    m â† n / 2
  w przeciwnym przypadku
    m â† (n â€“ 1) / 2
      dla i=1,2,â€¦,m wykonuj
        jeÅ¼eli w[i] â‰  â€¦â€¦â€¦â€¦â€¦â€¦â€¦
          podaj wynik 0 i zakoÅ„cz wykonywanie funkcji
    x â† w[1..m]
    wynikiem jest 1 + â€¦â€¦â€¦â€¦â€¦â€¦â€¦
        
Uwaga: mod â€“ reszta z dzielenia caÅ‚kowitego 

ROZWIAZANIE:
To zadanie jest zwiÄ…zane bezpoÅ›rednio z treÅ›ciÄ… algorytmu zawartÄ… w poprzednim poleceniu - musimy uzupeÅ‚niÄ‡ poszczegÃ³lne (wykropkowane, sÄ… trzy takie miejsca) fragmenty pseudokodu odpowiednimi wartoÅ›ciami. JeÅ›li jeszcze nie przerabiaÅ‚eÅ›/aÅ› zadania 2.1., polecam najpierw to zrobiÄ‡ <a href="/zadanie/19">w tym miejscu</a>. PÃ³jdzie gÅ‚adko, obiecujÄ™. ğŸ¤ 

Przypomnijmy sobie, co ma robiÄ‡ ten pseudokod:
W tym zadaniu rozwaÅ¼amy tylko sÅ‚owa zbudowane z wielkich liter A i B. SÅ‚owo nazwiemy palindromem, gdy czytane od lewej do prawej jest takie samo jak czytane od prawej do lewej.
PrzykÅ‚adowo sÅ‚owo ABABA jest palindromem, natomiast palindromem nie jest sÅ‚owo BAABA.
Dla sÅ‚owa w definiujemy jego regularnoÅ›Ä‡ reg(w), jak nastÄ™puje:
âˆ’ jeÅ›li sÅ‚owo w jest sÅ‚owem jednoliterowym, to jest palindromem, a jego reg(w) = 1
âˆ’ jeÅ›li sÅ‚owo w skÅ‚ada siÄ™ z wiÄ™cej niÅ¼ jednej litery, to moÅ¼na je przedstawiÄ‡ w postaci:
w=w1Zw2, gdy ma dÅ‚ugoÅ›Ä‡ nieparzystÄ…
lub
w=w1w2, gdy ma dÅ‚ugoÅ›Ä‡ parzystÄ…,
gdzie w1, w2 sÄ… sÅ‚owami tej samej dÅ‚ugoÅ›ci, a Z jest literÄ… A lub literÄ… B.
JeÅ¼eli w nie jest palindromem, definiujemy reg(w)=0, natomiast gdy w jest
palindromem definiujemy reg(w)=reg(w1)+1.

Okej, przejdÅºmy teraz do naszej funkcji.
Pierwszy wykropkowany element znajduje siÄ™ tutaj:
jeÅ¼eli n = 1
  wynikiem jest â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦
[...]
A wiÄ™c - czym jest n? PowinniÅ›my spojrzeÄ‡ na dane, ktÃ³re sÄ… podane w poleceniu:
Dane:
  n â€“ dodatnia liczba caÅ‚kowita
  w[1..n] â€“ sÅ‚owo zÅ‚oÅ¼one z liter A, B 
Nie jest bezpoÅ›rednio wytÅ‚umaczone, czym jest to "n", ale jak spojrzymy na tablicÄ™ (czyli ciÄ…g zmiennych, do ktÃ³rego moÅ¼emy siÄ™ odwoÅ‚aÄ‡ - coÅ› jak szufladki ponumerowane w tym wypadku od 1 do n, a kaÅ¼da zawiera jakÄ…Å› literÄ™ - w dowolnym momencie moÅ¼emy wyciÄ…gnÄ…Ä‡ jakÄ…kolwiek z nich), to widzimy, Å¼e n stanowi liczbÄ™ znakÃ³w, ktÃ³re skÅ‚adajÄ… siÄ™ na sÅ‚owo: np. jeÅ›li n=5, tablica w zawiera litery o indeksach 1, 2, 3, 4 i 5, a wiÄ™c przykÅ‚adowo sÅ‚owo "jeleÅ„". ğŸ¦Œ
Okej, wiemy wiÄ™c, Å¼e n oznacza dÅ‚ugoÅ›Ä‡ przekazanego sÅ‚owa. ğŸ˜
Co to nam daje? ano, przypomnijmy, Å¼e "jeÅ›li sÅ‚owo w jest sÅ‚owem jednoliterowym, to jest palindromem, a jego reg(w) = 1". Czyli jeÅ›li n = 1, mamy zwrÃ³ciÄ‡ 1. Proste, prawda? ğŸ˜„
Zapisujemy wiÄ™c 1 w wykropkowanym miejscu.

PrzejdÅºmy dalej:<code>[...]
jeÅ¼eli n mod 2 = 0
  m â† n / 2
w przeciwnym przypadku
  m â† (n â€“ 1) / 2
  dla i=1,2,â€¦,m wykonuj
    jeÅ¼eli w[i] â‰  â€¦â€¦â€¦â€¦â€¦â€¦â€¦
      podaj wynik 0 i zakoÅ„cz funkcjÄ™
[...]</code>Ouch. ğŸ˜ª TrochÄ™ tego dali. Ale tylko z pozoru moÅ¼e wydawaÄ‡ siÄ™ to trudne.
Pierwsze 4 linijki to nic innego, jak obliczanie tego fragmentu polecenia:
âˆ’ jeÅ›li sÅ‚owo w skÅ‚ada siÄ™ z wiÄ™cej niÅ¼ jednej litery, to moÅ¼na je przedstawiÄ‡ w postaci:
w=w1Zw2, gdy ma dÅ‚ugoÅ›Ä‡ nieparzystÄ…
lub
w=w1w2, gdy ma dÅ‚ugoÅ›Ä‡ parzystÄ…,
gdzie w1, w2 sÄ… sÅ‚owami tej samej dÅ‚ugoÅ›ci, a Z jest literÄ… A lub literÄ… B. 

Zmienna m stanowi tak naprawdÄ™ miejsce (indeks do tablicy) ostatniej litery w1 - pokaÅ¼my to na przykÅ‚adzie sÅ‚owa "kajak". Zapiszmy najpierw indeksy poszczegÃ³lnych liter: k-1, a-2, j-3, a-4, k-5. Teraz wyznaczmy zmienne w1, Z i w2. w1=ka, Z=j, w2=ak. m w tym wypadku bÄ™dzie rÃ³wnaÅ‚o siÄ™ 2, bo w1 koÅ„czy siÄ™ na tym znaku, a zmienna m oznacza indeks w tablicy, nie samÄ… literÄ™. ğŸ¥± 
Jak to ma siÄ™ jednak do naszego zadania?

PrzesuÅ„my siÄ™ do 3 ostatnich linijek, co tu mamy:
- pÄ™tla "dla i=1,2,â€¦,m wykonuj": czyli wykonujemy polecenia znajdujÄ…ce siÄ™ pod tÄ… pÄ™tlÄ… aÅ¼ do czasu, gdy osiÄ…gniemy ostatni indeks znaku sÅ‚owa w1. (dla kajak wykona siÄ™ dwa razy ğŸ˜‰)
- warunek "jeÅ¼eli w[i] â‰  â€¦â€¦â€¦â€¦â€¦â€¦â€¦": doszliÅ›my do naszego wybrakowanego miejsca. Okej, co tutaj powinno siÄ™ staÄ‡? ğŸ¤”
SpÃ³jrzmy niÅ¼ej: "podaj wynik 0 i zakoÅ„cz funkcjÄ™". Do czego nam to pasuje? "JeÅ¼eli w nie jest palindromem, definiujemy reg(w)=0"! ğŸ˜ 
Oznacza to dla nas, Å¼e musimy w warunku wyÅ¼ej sprawdzaÄ‡, czy podane sÅ‚owo jest palindromem. Definicja palindromu powinna byÄ‡ znana z poprzedniego zadania: sÅ‚owo czytane zarÃ³wno od lewej jak i prawej ma takie samo znaczenie, jak np. wyÅ¼ej wymieniony "kajak".
Jak moÅ¼emy jednak to sprawdziÄ‡?
Jest na to prosty sposÃ³b. Wystarczy, Å¼e za jednym razem bÄ™dziemy porÃ³wnywaÄ‡ n-ty znak od lewej z n-tym znakiem od prawej, np.: pierwszÄ… literÄ… od lewej dla sÅ‚owa "kajak" jest k, a ostatniÄ… (czyli tak naprawdÄ™ teÅ¼ pierwszÄ…, ale od prawej!)? teÅ¼ k! Posuwamy siÄ™ wiÄ™c po kolei, aÅ¼ dojdziemy do poÅ‚owy sÅ‚owa, czyli naszego m. (jeÅ›li liczba znakÃ³w jest nieparzysta, nie musimy sprawdzaÄ‡ Å›rodkowego znaku: wynika to z faktu, Å¼e znak po Å›rodku, czyli 3 od prawej jak i lewej np. sÅ‚owa "kajak" jest taki sam: "j", dlatego moÅ¼emy go pominÄ…Ä‡!)

Okej, to jak zapisaÄ‡ to w naszym pseudokodzie?
PÄ™tla wyglÄ…da tak:
"dla i=1,2,â€¦,m wykonuj", a wiÄ™c zmienna i "czyta" nasze sÅ‚owo od lewej. ZnajÄ…c dÅ‚ugoÅ›Ä‡ sÅ‚owa pod postaciÄ… zmiennej n, moÅ¼emy jÄ… wykorzystaÄ‡. 
Wystarczy, Å¼e bÄ™dziemy konsekwentnie odejmowaÄ‡ od dÅ‚ugoÅ›ci sÅ‚owa zmiennÄ… i, pamiÄ™tajÄ…c o tym, Å¼e i zaczyna siÄ™ od jeden, wiÄ™c musimy dodaÄ‡ jedynkÄ™, aby faktycznie zaczynaÄ‡ od ostatniej litery: tj. znaki czytane od prawej majÄ… indeks n+1-i.
A wiÄ™c Å¼eby sprawdziÄ‡, czy coÅ› jest palindromem, wystarczy Å¼e porÃ³wnamy w[i] z w[n+1-i]. I wÅ‚aÅ›nie to musimy zapisaÄ‡ w tym miejscu! "jeÅ¼eli w[i] â‰  w[n+1-i]":

Powoli dochodzimy do koÅ„ca! ğŸ¤—
ZostaÅ‚ nam ostatni fragment:<code<[...]
x â† w[1..m]
wynikiem jest 1 + â€¦â€¦â€¦â€¦â€¦â€¦â€¦
[...]</code>Hmm, jak czytaÄ‡ to, co zostaÅ‚o wykonane przy x? OtÃ³Å¼ jest to taki skrÃ³towiec na przypisanie jakiejÅ› czÄ™Å›ci tablicy do innej zmiennej. W tym przypadku x bÄ™dzie stanowiÄ‡ to, co w1.
PrzyglÄ…dajÄ…c siÄ™, jak dziaÅ‚aÄ‡ ma algorytm, moÅ¼emy zauwaÅ¼yÄ‡, Å¼e jeÅ›li podane sÅ‚owo jest palindromem i jego liczba znakÃ³w jest wiÄ™ksza niÅ¼ 1, to "definiujemy reg(w)=reg(w1)+1" 
Tak naprawdÄ™ to, co mamy zapisaÄ‡, podane jest samej treÅ›ci zadania. ğŸ¥°
Musimy jednak minimalnie to zmodyfikowaÄ‡, poniewaÅ¼ nasza funkcja przyjmuje dwa argumenty, w i n, a nie samo w1. 
Odpowienikiem w1 bÄ™dzie wyÅ¼ej wspomniane x! a zmienna n, jak pamiÄ™tamy, oznacza dÅ‚ugoÅ›Ä‡ przekazywanego sÅ‚owa. Jaka jest wiÄ™c dÅ‚ugoÅ›Ä‡ x? ObliczyliÅ›my to wczeÅ›niej! ğŸ¦¸â€â™‚ï¸ Jest to nasza zmienna m.
Finalnie wiÄ™c zapiszemy (pamiÄ™tajÄ…c, Å¼e funkcja pisana jest wielkimi literami): "wynikiem jest 1 + REG(x, m).

Oto caÅ‚e zadanie za nami. ğŸ¥³ Tak naprawdÄ™ nie trzeba wiele, Å¼eby rozwiÄ…zaÄ‡ tego typu zadanie. Wystarczy dobrze zrozumieÄ‡ to, co ma dany kod robiÄ‡, a bÄ™dziemy wiedzieli jak go uzupeÅ‚niÄ‡.